# è½¬æ¢è‡ª DeadAt17 çš„ subconverter.ini
### åŸºç¡€é…ç½®
port: 6233
socks-port: 6234
mixed-port: 7897 # è„šæœ¬å¯èƒ½ä¼šç§»é™¤è¿™ä¸ªï¼Œä¿ç•™ä¹Ÿæ²¡äº‹ï¼Œè„šæœ¬é‡Œæœ‰replace
allow-lan: false
mode: rule
log-level: info
external-controller: 127.0.0.1:9090
ipv6: false
find-process-mode: strict

profile:
  store-selected: true
  store-fake-ip: true
unified-delay: true
tcp-concurrent: true

### DNSé…ç½®
dns:
    enable: true
    listen: 0.0.0.0:53
    ipv6: false
    prefer-h3: true
    enhanced-mode: fake-ip
    use-hosts: true
    use-system-hosts: true
    nameserver:
        - https://223.5.5.5/dns-query
        - https://dns.pub/dns-query
    fake-ip-range: 198.18.0.1/16
    fake-ip-filter: ['rule-set:fakeip-filter,trackerslist,private,cn']

### åœ°åŒºç­›é€‰æ­£åˆ™ (å¤ç”¨ override-hub çš„ä¼˜ç§€æ­£åˆ™)
FilterHK: &FilterHK '^(?=.*(é¦™æ¸¯|HK|Hong|ğŸ‡­ğŸ‡°))^(?!.*(ç½‘ç«™|åœ°å€|å‰©ä½™|è¿‡æœŸ|æ—¶é—´|æœ‰æ•ˆ|ç½‘å€|ç¦æ­¢|é‚®ç®±|å‘å¸ƒ|å®¢æœ|è®¢é˜…|èŠ‚ç‚¹|è½åœ°|å®¶å®½|è‡ªå»º|Ã—)).*$'
FilterJP: &FilterJP '^(?=.*(æ—¥æœ¬|JP|Japan|ğŸ‡¯ğŸ‡µ))^(?!.*(ç½‘ç«™|åœ°å€|å‰©ä½™|è¿‡æœŸ|æ—¶é—´|æœ‰æ•ˆ|ç½‘å€|ç¦æ­¢|é‚®ç®±|å‘å¸ƒ|å®¢æœ|è®¢é˜…|èŠ‚ç‚¹|è½åœ°|å®¶å®½|è‡ªå»º|Ã—)).*$'
FilterKR: &FilterKR '^(?=.*(éŸ©å›½|éŸ“|KR|Korea|ğŸ‡°ğŸ‡·))^(?!.*(ç½‘ç«™|åœ°å€|å‰©ä½™|è¿‡æœŸ|æ—¶é—´|æœ‰æ•ˆ|ç½‘å€|ç¦æ­¢|é‚®ç®±|å‘å¸ƒ|å®¢æœ|è®¢é˜…|èŠ‚ç‚¹|è½åœ°|å®¶å®½|è‡ªå»º|Ã—)).*$'
FilterSG: &FilterSG '^(?=.*(æ–°åŠ å¡|ç‹®åŸ|SG|Singapore|ğŸ‡¸ğŸ‡¬))^(?!.*(ç½‘ç«™|åœ°å€|å‰©ä½™|è¿‡æœŸ|æ—¶é—´|æœ‰æ•ˆ|ç½‘å€|ç¦æ­¢|é‚®ç®±|å‘å¸ƒ|å®¢æœ|è®¢é˜…|èŠ‚ç‚¹|è½åœ°|å®¶å®½|è‡ªå»º|Ã—)).*$'
FilterUS: &FilterUS '^(?=.*(ç¾å›½|US|United States|America|ğŸ‡ºğŸ‡¸))^(?!.*(ç½‘ç«™|åœ°å€|å‰©ä½™|è¿‡æœŸ|æ—¶é—´|æœ‰æ•ˆ|ç½‘å€|ç¦æ­¢|é‚®ç®±|å‘å¸ƒ|å®¢æœ|è®¢é˜…|èŠ‚ç‚¹|è½åœ°|å®¶å®½|è‡ªå»º|Ã—)).*$'
FilterTW: &FilterTW '^(?=.*(å°æ¹¾|TW|Taiwan|Wan|ğŸ‡¨ğŸ‡³|ğŸ‡¨ğŸ‡³))^(?!.*(ç½‘ç«™|åœ°å€|å‰©ä½™|è¿‡æœŸ|æ—¶é—´|æœ‰æ•ˆ|ç½‘å€|ç¦æ­¢|é‚®ç®±|å‘å¸ƒ|å®¢æœ|è®¢é˜…|èŠ‚ç‚¹|è½åœ°|å®¶å®½|è‡ªå»º|Ã—)).*$'
FilterAll: &FilterAll '^(?=.*(.))(?!.*((?i)ç¾¤|é‚€è¯·|è¿”åˆ©|å¾ªç¯|å®˜ç½‘|å®¢æœ|ç½‘ç«™|ç½‘å€|è·å–|è®¢é˜…|æµé‡|åˆ°æœŸ|æœºåœº|ä¸‹æ¬¡|ç‰ˆæœ¬|å®˜å€|å¤‡ç”¨|è¿‡æœŸ|å·²ç”¨|è”ç³»|é‚®ç®±|å·¥å•|è´©å–|é€šçŸ¥|å€’å–|é˜²æ­¢|å›½å†…|åœ°å€|é¢‘é“|æ— æ³•|è¯´æ˜|ä½¿ç”¨|æç¤º|ç‰¹åˆ«|è®¿é—®|æ”¯æŒ|æ•™ç¨‹|å…³æ³¨|æ›´æ–°|ä½œè€…|åŠ å…¥|(\\b(USE|USED|TOTAL|EXPIRE|EMAIL|Panel|Channel|Author)\\b|(\\d{4}-\\d{2}-\\d{2}|\\d+G)))).*$'

### åŸºç¡€é”šç‚¹
Select: &Select {type: select, url: 'http://www.gstatic.com/generate_204', disable-udp: false, hidden: false, include-all: true}
Auto: &Auto {type: url-test, url: 'http://www.gstatic.com/generate_204', interval: 300, tolerance: 50, disable-udp: false, hidden: true, include-all: true}

### ç­–ç•¥ç»„é…ç½® (æ˜ å°„è‡ª custom_proxy_group)
proxy-groups:
  # ğŸš€ èŠ‚ç‚¹é€‰æ‹©
  - {name: ğŸš€ èŠ‚ç‚¹é€‰æ‹©, type: select, proxies: [ğŸ’« è‡ªåŠ¨é€‰æ‹©, ğŸ‡­ğŸ‡° é¦™æ¸¯èŠ‚ç‚¹, ğŸ‡¸ğŸ‡¬ æ–°åŠ å¡èŠ‚ç‚¹, ğŸ‡¯ğŸ‡µ æ—¥æœ¬èŠ‚ç‚¹, ğŸ‡°ğŸ‡· éŸ©å›½èŠ‚ç‚¹, ğŸ‡ºğŸ‡¸ ç¾å›½èŠ‚ç‚¹, ğŸ‡¹ğŸ‡¼ å°æ¹¾èŠ‚ç‚¹, DIRECT]}

  # ğŸ’« è‡ªåŠ¨é€‰æ‹© (url-test)
  - {name: ğŸ’« è‡ªåŠ¨é€‰æ‹©, <<: *Auto, filter: *FilterAll}

  # ğŸ“º å“”å“©å“”å“©
  - {name: ğŸ“º å“”å“©å“”å“©, type: select, proxies: [DIRECT, ğŸ‡­ğŸ‡° é¦™æ¸¯èŠ‚ç‚¹, ğŸ‡¹ğŸ‡¼ å°æ¹¾èŠ‚ç‚¹]}

  # ğŸ“º YouTube
  - {name: ğŸ“º YouTube, type: select, proxies: [ğŸ’« è‡ªåŠ¨é€‰æ‹©, ğŸ‡­ğŸ‡° é¦™æ¸¯èŠ‚ç‚¹, ğŸ‡¯ğŸ‡µ æ—¥æœ¬èŠ‚ç‚¹, ğŸ‡°ğŸ‡· éŸ©å›½èŠ‚ç‚¹, ğŸ‡¹ğŸ‡¼ å°æ¹¾èŠ‚ç‚¹, ğŸ‡ºğŸ‡¸ ç¾å›½èŠ‚ç‚¹, ğŸ‡¸ğŸ‡¬ æ–°åŠ å¡èŠ‚ç‚¹]}

  # ğŸ“º Netflix
  - {name: ğŸ“º Netflix, type: select, proxies: [ğŸ’« è‡ªåŠ¨é€‰æ‹©, ğŸ‡­ğŸ‡° é¦™æ¸¯èŠ‚ç‚¹, ğŸ‡¯ğŸ‡µ æ—¥æœ¬èŠ‚ç‚¹, ğŸ‡°ğŸ‡· éŸ©å›½èŠ‚ç‚¹, ğŸ‡¹ğŸ‡¼ å°æ¹¾èŠ‚ç‚¹, ğŸ‡ºğŸ‡¸ ç¾å›½èŠ‚ç‚¹, ğŸ‡¸ğŸ‡¬ æ–°åŠ å¡èŠ‚ç‚¹]}

  # ğŸ’ƒ TikTok
  - {name: ğŸ’ƒ TikTok, type: select, proxies: [ğŸ‡­ğŸ‡° é¦™æ¸¯èŠ‚ç‚¹, ğŸ‡¯ğŸ‡µ æ—¥æœ¬èŠ‚ç‚¹, ğŸ‡°ğŸ‡· éŸ©å›½èŠ‚ç‚¹, ğŸ‡¹ğŸ‡¼ å°æ¹¾èŠ‚ç‚¹, ğŸ‡ºğŸ‡¸ ç¾å›½èŠ‚ç‚¹, ğŸ‡¸ğŸ‡¬ æ–°åŠ å¡èŠ‚ç‚¹]}

  # ğŸ’¬ AIèŠ‚ç‚¹ (åˆå¹¶äº† OpenAI, Claude, Gemini ç­‰)
  - {name: ğŸ’¬ AIèŠ‚ç‚¹, type: select, proxies: [ğŸ‡ºğŸ‡¸ ç¾å›½èŠ‚ç‚¹, ğŸ‡¯ğŸ‡µ æ—¥æœ¬èŠ‚ç‚¹, ğŸ‡¸ğŸ‡¬ æ–°åŠ å¡èŠ‚ç‚¹, ğŸ‡¹ğŸ‡¼ å°æ¹¾èŠ‚ç‚¹, ğŸ‡°ğŸ‡· éŸ©å›½èŠ‚ç‚¹, ğŸ‡­ğŸ‡° é¦™æ¸¯èŠ‚ç‚¹]}

  # ğŸ Apple
  - {name: ğŸ Apple, type: select, proxies: [DIRECT, ğŸ’« è‡ªåŠ¨é€‰æ‹©, ğŸ‡ºğŸ‡¸ ç¾å›½èŠ‚ç‚¹, ğŸ‡­ğŸ‡° é¦™æ¸¯èŠ‚ç‚¹, ğŸ‡¯ğŸ‡µ æ—¥æœ¬èŠ‚ç‚¹]}

  # ğŸ“§ Microsoft
  - {name: ğŸ“§ Microsoft, type: select, proxies: [DIRECT, ğŸ’« è‡ªåŠ¨é€‰æ‹©, ğŸ‡­ğŸ‡° é¦™æ¸¯èŠ‚ç‚¹, ğŸ‡¯ğŸ‡µ æ—¥æœ¬èŠ‚ç‚¹, ğŸ‡ºğŸ‡¸ ç¾å›½èŠ‚ç‚¹]}

  # ğŸ® Game
  - {name: ğŸ® Game, type: select, proxies: [DIRECT, ğŸ’« è‡ªåŠ¨é€‰æ‹©, ğŸ‡­ğŸ‡° é¦™æ¸¯èŠ‚ç‚¹, ğŸ‡¯ğŸ‡µ æ—¥æœ¬èŠ‚ç‚¹, ğŸ‡ºğŸ‡¸ ç¾å›½èŠ‚ç‚¹]}

  # ğŸ˜¶ Delta (è‡ªå®šä¹‰)
  - {name: ğŸ˜¶ Delta, type: select, proxies: [DIRECT, ğŸ’« è‡ªåŠ¨é€‰æ‹©, ğŸ‡­ğŸ‡° é¦™æ¸¯èŠ‚ç‚¹]}

  # åœ°åŒºåˆ†ç»„
  - {name: ğŸ‡­ğŸ‡° é¦™æ¸¯èŠ‚ç‚¹, <<: *Auto, filter: *FilterHK}
  - {name: ğŸ‡¯ğŸ‡µ æ—¥æœ¬èŠ‚ç‚¹, <<: *Auto, filter: *FilterJP}
  - {name: ğŸ‡°ğŸ‡· éŸ©å›½èŠ‚ç‚¹, <<: *Auto, filter: *FilterKR}
  - {name: ğŸ‡¹ğŸ‡¼ å°æ¹¾èŠ‚ç‚¹, <<: *Auto, filter: *FilterTW}
  - {name: ğŸ‡ºğŸ‡¸ ç¾å›½èŠ‚ç‚¹, <<: *Auto, filter: *FilterUS}
  - {name: ğŸ‡¸ğŸ‡¬ æ–°åŠ å¡èŠ‚ç‚¹, <<: *Auto, filter: *FilterSG}

### è§„åˆ™æºé…ç½® (æ˜ å°„è‡ª surge_ruleset)
rule-providers:
  # å†…ç½®è§„åˆ™
  fakeip-filter:
    type: http
    behavior: domain
    format: mrs
    url: https://testingcf.jsdelivr.net/gh/DustinWin/ruleset_geodata@mihomo-ruleset/fakeip-filter.mrs
    path: ./rules/fakeip-filter.mrs
    interval: 86400

  # è‡ªå®šä¹‰è§„åˆ™ (æ¥è‡ª subconverter.ini)
  pccw:
    type: http
    behavior: classical
    url: https://raw.githubusercontent.com/DeadAt17/rule/main/pccw_clash.yaml
    path: ./rules/pccw_clash.yaml
    interval: 86400
    format: yaml

  bilibili:
    type: http
    behavior: classical
    url: https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/BiliBili/BiliBili.list
    path: ./rules/bilibili.list
    interval: 86400

  youtube:
    type: http
    behavior: classical
    url: https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/YouTube/YouTube.list
    path: ./rules/youtube.list
    interval: 86400

  netflix:
    type: http\n    behavior: classical
    url: https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Netflix/Netflix.list
    path: ./rules/netflix.list
    interval: 86400

  tiktok:
    type: http
    behavior: classical
    url: https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/TikTok/TikTok.list
    path: ./rules/tiktok.list
    interval: 86400

  ai_custom:
    type: http
    behavior: classical
    url: https://raw.githubusercontent.com/DeadAt17/rule/main/ai_clash.yaml
    path: ./rules/ai_clash.yaml
    interval: 86400
    format: yaml
  
  ai_fmz200:
    type: http
    behavior: classical
    url: https://raw.githubusercontent.com/fmz200/wool_scripts/main/Loon/rule/AI.list
    path: ./rules/ai_fmz200.list
    interval: 86400

  openai:
    type: http
    behavior: classical
    url: https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/OpenAI/OpenAI.list
    path: ./rules/openai.list
    interval: 86400

  apple:
    type: http
    behavior: classical
    url: https://raw.githubusercontent.com/Loyalsoldier/clash-rules/release/apple.txt
    path: ./rules/apple.txt
    interval: 86400

  microsoft:
    type: http
    behavior: classical\n    url: https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Microsoft/Microsoft.list
    path: ./rules/microsoft.list
    interval: 86400

  game:
    type: http
    behavior: classical
    url: https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Game/Game.list
    path: ./rules/game.list\n    interval: 86400

  delta:
    type: http
    behavior: classical
    url: https://raw.githubusercontent.com/DeadAt17/rule/main/delta_clash.yaml
    path: ./rules/delta_clash.yaml
    interval: 86400
    format: yaml

### è§„åˆ™é…ç½® (Rules)
rules:
  # PCCW
  - RULE-SET,pccw,DIRECT

  # Media
  - RULE-SET,bilibili,ğŸ“º å“”å“©å“”å“©
  - RULE-SET,youtube,ğŸ“º YouTube
  - RULE-SET,netflix,ğŸ“º Netflix
  - RULE-SET,tiktok,ğŸ’ƒ TikTok

  # AI
  - RULE-SET,ai_custom,ğŸ’¬ AIèŠ‚ç‚¹
  - RULE-SET,ai_fmz200,ğŸ’¬ AIèŠ‚ç‚¹
  - RULE-SET,openai,ğŸ’¬ AIèŠ‚ç‚¹

  # Services
  - RULE-SET,apple,ğŸ Apple
  - RULE-SET,microsoft,ğŸ“§ Microsoft
  - RULE-SET,game,ğŸ® Game
  - RULE-SET,delta,ğŸ˜¶ Delta

  # Final
  - MATCH,ğŸš€ èŠ‚ç‚¹é€‰æ‹©
